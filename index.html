<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Sab-atan Menu</title>
  <style>
    /* Reset margin and set full viewport height for body */
    body {
      margin: 0;
      background: black;
      /* Use 100vh for full viewport height */
      height: 100vh;
      /* Ensure everything inside body takes up 100% of the viewport */
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      /* Hide scrollbars that might appear */
      overflow: hidden;
    }

    /* Set flipbook to full viewport size */
    #flipbook {
      /* Turn.js will manage the actual size, but this is a good container fallback */
      width: 100vw;
      height: 100vh;
    }

    /* Set image to cover its page container */
    #flipbook img {
      width: 100%;
      height: 100%;
      /* Use object-fit: contain to ensure the whole image is visible,
         or use object-fit: cover if you want it to fill the page entirely
         and don't mind clipping */
      object-fit: contain; 
    }

    /* The 'div' wrappers created by Turn.js should also be set to 100% */
    #flipbook > div {
        width: 100%;
        height: 100%;
    }

    /* Swipe notification (no changes needed, but keeping for completeness) */
    .swipe-hint {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 16px;
      opacity: 0;
      animation: fadeInOut 5s ease forwards;
      z-index: 9999;
      white-space: nowrap;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; }
    }
  </style>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="js/turn.min.js"></script>
</head>
<body>
  <div class="swipe-hint">ðŸ“– Swipe to flip pages</div>

  <div id="flipbook">
    <div><img src="sab-atan-front.png" alt="Menu Front"></div>
    <div><img src="sab-atan-2.png" alt="Menu Page 2"></div>
    <div><img src="sab-atan-3.png" alt="Menu Page 3"></div>
    <div><img src="sab-atan-4.png" alt="Menu Page 4"></div>
    <div><img src="sab-atan-5.png" alt="Menu Page 5"></div>
    <div><img src="sab-atan-back.png" alt="Menu Back"></div>
  </div>

  <script>
    // Function to calculate and apply the correct size
    function setFlipbookSize() {
        // Use 100% of the window's inner width and height
        const width = window.innerWidth;
        const height = window.innerHeight;
        
        // Check if flipbook is already initialized
        if ($("#flipbook").data().initialized) {
            $("#flipbook").turn("size", width, height);
        } else {
             // Initialize Turn.js
            $("#flipbook").turn({
                width: width,
                height: height,
                autoCenter: true,
                display: "single", // single page flip like a book
                elevation: 50,
                gradients: true,
                acceleration: true
            });
        }
    }

    // Call the function on initial load
    $(document).ready(setFlipbookSize);

    // Resize when window changes (using the function)
    window.addEventListener("resize", setFlipbookSize);

    // Enable swipe on mobile (no changes needed)
    let startX = 0;
    let endX = 0;

    document.getElementById("flipbook").addEventListener("touchstart", (e) => {
      startX = e.changedTouches[0].screenX;
    });

    document.getElementById("flipbook").addEventListener("touchend", (e) => {
      endX = e.changedTouches[0].screenX;
      if (startX - endX > 50) {
        $("#flipbook").turn("next"); // swipe left â†’ next page
      } else if (endX - startX > 50) {
        $("#flipbook").turn("previous"); // swipe right â†’ previous page
      }
    });
  </script>
</body>
</html>
